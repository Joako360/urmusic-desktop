function ExpressionProperty(e){e||(e=0),e instanceof ExpressionProperty&&(e=e.expr);var r=e.toString(),t=new Function(exprArgs.join(","),"return ("+r+")"),n=0;this.refresh=function(e){return n=t(e.maxval,e.minval,e.time,e.duration,e.maxlowval,e.minlowval,e.maxhighval,e.minhighval,e.csize,e.imgw,e.imgh,e.imgr,e.songtitle,e.prettytime,e.prettyduration)||0};Object.defineProperty(this,"value",{get:function(){return n}}),Object.defineProperty(this,"expr",{get:function(){return r},set:function(e){""===e&&(e="0"),r=e,t=new Function(exprArgs.join(","),"return ("+r+")")}})}function compileExpr(e,r){var t=exprStack[e];isNullOrUndef(t)?exprStack[e]=new ExpressionProperty(r):exprStack[e].expr=r}function disposeExpr(e){delete exprStack[e],delete exprResults[e]}function setExpr(e,r){var t=exprStack[e];t?t.expr=r:exprStack[e]=new ExpressionProperty(r)}function recalcAllExpr(e){for(var r in exprStack)exprResults[r]=exprStack[r].refresh(e)}function recalcExpr(e){for(var r in e){var t=exprStack[r];t&&(exprResults[r]=t.refresh(e[r]))}}var exprArgs=["maxval","minval","time","duration","maxlowval","minlowval","maxhighval","minhighval","csize","imgw","imgh","imgr","songtitle","prettytime","prettyduration"],exprStack={},exprResults={};